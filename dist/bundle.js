!function(e){var S={};function n(N){if(S[N])return S[N].exports;var t=S[N]={i:N,l:!1,exports:{}};return e[N].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=S,n.d=function(e,S,N){n.o(e,S)||Object.defineProperty(e,S,{enumerable:!0,get:N})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,S){if(1&S&&(e=n(e)),8&S)return e;if(4&S&&"object"==typeof e&&e&&e.__esModule)return e;var N=Object.create(null);if(n.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:e}),2&S&&"string"!=typeof e)for(var t in e)n.d(N,t,function(S){return e[S]}.bind(null,t));return N},n.n=function(e){var S=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(S,"a",S),S},n.o=function(e,S){return Object.prototype.hasOwnProperty.call(e,S)},n.p="",n(n.s=0)}([function(e,S,n){"use strict";n.r(S);var N=[["ES","SW","ES","SW","ES","SW","ES","SW","S","S","ES","ESW","W","ES","EW","SW"],["NS","NS","NS","NES","NSW","NES","NSW","NES","NESW","NESW","NW","NES","SW","NE","SW","NS"],["NS","NS","NS","N","NE","NW","NE","NW","N","NS","ES","NSW","NES","SW","NS","NS"],["NS","NS","NS","S","ES","SW","S","ES","SW","NE","NW","NE","NSW","NS","NS","NS"],["NS","NS","NS","NES","NW","NE","NSW","NS","NS","ES","EW","SW","NE","NSW","NS","NS"],["NS","NS","NS","NES","EW","SW","NE","NW","NE","NW","ES","NEW","EW","NW","NS","NS"],["NS","NS","NS","N","ES","NEW","SW","ES","EW","SW","NE","EW","SW","ES","NW","NS"],["NS","NS","NS","S","NE","ESW","NW","NES","SW","NES","EW","EW","NW","NE","SW","NS"],["NS","NS","NES","NSW","ES","NEW","W","NES","NW","NS","ES","SW","ES","SW","NS","NS"],["NS","NS","NS","NS","NE","SW","S","NE","EW","NEW","NW","NE","NW","NE","NW","NS"],["NS","NES","NW","NES","SW","NE","NESW","W","ES","SW","ES","SW","ES","SW","ES","NW"],["NS","NS","ES","NW","NE","EW","NEW","W","NS","NES","NW","NE","NSW","NS","NE","SW"],["NS","NE","NW","ES","SW","ES","SW","S","NES","NEW","W","E","NEW","NSW","S","NS"],["NS","S","S","NS","NS","NS","NS","NES","NESW","SW","ES","SW","ES","NEW","NSW","NS"],["NES","NESW","NESW","NESW","NESW","NESW","NESW","NSW","NS","NES","NSW","NES","NSW","ES","NSW","NS"],["N","N","N","N","N","N","N","NE","NEW","NW","NE","NW","NE","NW","NE","NW"]];document.addEventListener("DOMContentLoaded",e=>{let S,n=document.getElementById("myCanvas"),t=n.getContext("2d");const a=["N","S","E","W"],i=N[0].length,r=N.length;let E=n.height/r,c=n.width/i,W=new class{constructor(e){this.img_s=new Image,this.img_n=new Image,this.img_e=new Image,this.img_w=new Image,this.x=0+e,this.y=0+e,this.facing="S",this.trackX=0,this.trackY=0,this.memory=[],this.goal=!1}}(3),s=[];for(let e=0;e<r;e++){s[e]=[];for(let S=0;S<r;S++){let n=S*c,t=e*E;s[e][S]={x:n,y:t,openings:N[e][S]}}}W.faceN=(()=>{W.facing="N"}),W.faceS=(()=>{W.facing="S"}),W.faceE=(()=>{W.facing="E"}),W.faceW=(()=>{W.facing="W"});const o=e=>{switch(W.facing){case"N":return e.indexOf("W")>-1;case"S":return e.indexOf("E")>-1;case"E":return e.indexOf("N")>-1;case"W":return e.indexOf("S")>-1}},g=e=>{switch(W.facing){case"N":return e.indexOf("E")>-1;case"S":return e.indexOf("W")>-1;case"E":return e.indexOf("S")>-1;case"W":return e.indexOf("N")>-1}},f=e=>{e.openings.indexOf(W.facing)>=0&&(W.memory.push(e),(()=>{switch(W.facing){case"N":W.y-=E,W.trackY-=1;break;case"S":W.y+=E,W.trackY+=1;break;case"E":W.x+=c,W.trackX+=1;break;case"W":W.x-=E,W.trackX-=1}})())},l=()=>{switch(W.facing){case"N":W.faceE();break;case"S":W.faceW();break;case"E":W.faceS();break;case"W":W.faceN()}},u=()=>{switch(W.facing){case"N":W.faceW();break;case"S":W.faceE();break;case"E":W.faceN();break;case"W":W.faceS()}},m=()=>{l(),l()},d=()=>{clearInterval(S),S=setInterval(()=>{let e=s[W.trackY][W.trackX];console.log(e),W.memory.filter(S=>S===e).length<=1?e.openings.indexOf(W.facing)<=-1&&!o(e.openings)&&!g(e.openings)?m():e.openings.indexOf(W.facing)<=-1&&g(e.openings)?l():e.openings.indexOf(W.facing)<=-1&&o(e.openings)&&!g(e.openings)?u():g(e.openings)&&l():W.memory.indexOf(e)>=0&&W.memory.filter(S=>S===e).length>1&&(e.openings.indexOf(W.facing)<=-1&&!o(e.openings)&&!g(e.openings)?m():e.openings.indexOf(W.facing)<=-1&&g(e.openings)?l():e.openings.indexOf(W.facing)<=-1&&o(e.openings)&&!g(e.openings)?u():o(e.openings)&&u()),f(e)},200)};document.addEventListener("keyup",function(e){switch(e.keyCode){case 8:clearInterval(S);break;case 13:d()}},!0);const p=()=>{t.clearRect(0,0,n.width,n.height),(()=>{for(let n=0;n<r;n++)for(let N=0;N<r;N++){let i=s[n][N],r=[];for(let e=0;e<a.length;e++)-1===i.openings.indexOf(a[e])&&r.push(a[e]);for(let n=0;n<r.length;n++){switch(t.beginPath(),r[n]){case"N":t.moveTo(i.x,i.y),t.lineTo(i.x+c,i.y);break;case"S":var e=i.y+E;t.moveTo(i.x,e),t.lineTo(i.x+c,e);break;case"E":var S=i.x+c;t.moveTo(S,i.y),t.lineTo(S,i.y+E);break;case"W":e=i.y+E,t.moveTo(i.x,i.y),t.lineTo(i.x,e)}t.stroke(),t.closePath()}}})(),(()=>{switch(W.facing){case"N":t.drawImage(W.img_n,W.x,W.y);break;case"S":t.drawImage(W.img_s,W.x,W.y);break;case"E":t.drawImage(W.img_e,W.x,W.y);break;case"W":t.drawImage(W.img_w,W.x,W.y)}})(),window.requestAnimationFrame(p)};W.img_s.src="app/images/mouse_20x20_down.png",W.img_n.src="app/images/mouse_20x20_up.png",W.img_e.src="app/images/mouse_20x20_right.png",W.img_w.src="app/images/mouse_20x20_left.png",window.requestAnimationFrame(p)})}]);